{"version":3,"sources":["components/UploadImage/styled.js","components/UploadImage/index.js","../node_modules/@material-ui/icons/DeleteForeverOutlined.js","pages/resManager/food/styled.js","pages/resManager/food/Form.js","pages/resManager/food/index.js"],"names":["StyledWrapper","styled","div","beforeUpload","file","isJpgOrPng","type","message","error","isLt2M","size","UploadImage","onChange","disabled","viewMode","fileUrl","useState","loading","setLoading","className","name","listType","showUploadList","action","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","imageUrl","fileProvider","upload","then","json","code","data","filePath","finally","style","border","customRequest","LoadingOutlined","PlusOutlined","marginTop","alt","width","src","UrlServer","prefix","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","Fragment","fill","d","Content","Layout","Modal","MD","PlaceForm","ref","reload","auth","Form","useForm","form","state","setState","useRef","useEffect","useImperativeHandle","show","isDetail","visible","setFieldsValue","password2","password","onClose","resetFields","onCancel","title","textAlign","fontWeight","id","footer","display","justifyContent","Button","onClick","content","icon","submit","layout","onFinish","values","body","active","idRes","userId","resManagerProvider","_put","success","window","location","href","_post","span","Item","label","valuePropName","avatar","rules","required","placeholder","autoComplete","connect","forwardRef","listData","food","_listData","getList","_getList","updateData","getUser","account","refModal","showModalPost","params","columns","render","_","__","index","dataIndex","item","getImg","height","current","fontSize","marginRight","cursor","color","foodProvider","_delete","InputSearch","search","setParams","page","iconSvg","AddIcon","Table","buttonCreate","onCreate","dataSource","scroll","x","y","rowKey","record"],"mappings":"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","file":"static/js/12.dd53a336.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const StyledWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  height: auto;\r\n  .ant-upload {\r\n    .ant-upload-select-picture-card {\r\n      border: 3px dashed green;\r\n      width: 70px;\r\n      height: 70px;\r\n      span {\r\n        color: green;\r\n      }\r\n    }\r\n  }\r\n  .image {\r\n    width: 150px;\r\n    height: 150px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    display: flex;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Upload, message } from \"antd\";\r\nimport { PlusOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport { prefix } from \"@utils/client-utils\";\r\nimport { UrlServer } from \"@utils/client-utils\";\r\nimport fileProvider from \"@src/data-access/file-provider\";\r\nimport { StyledWrapper } from \"./styled\";\r\n\r\nconst getBase64 = (img, callback) => {\r\n  const reader = new FileReader();\r\n  reader.addEventListener(\"load\", () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n};\r\n\r\nconst beforeUpload = (file) => {\r\n  const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  if (!isJpgOrPng) {\r\n    message.error(\"You can only upload JPG/PNG file!\");\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 12;\r\n  if (!isLt2M) {\r\n    message.error(\"Image must smaller than 12MB!\");\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n};\r\n\r\nconst UploadImage = ({\r\n  onChange = () => {},\r\n  disabled,\r\n  viewMode = false,\r\n  fileUrl,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const hadleUpload = (file) => {\r\n    setLoading(true);\r\n    getBase64(file, (imageUrl) => {\r\n      fileProvider\r\n        .upload(file)\r\n        .then((json) => {\r\n          if (json && json.code === 0) {\r\n            onChange(json.data?.filePath);\r\n          } else {\r\n            onChange(imageUrl);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <div className=\"upload-wrapper\">\r\n        {!viewMode && (\r\n          <Upload\r\n            disabled={disabled}\r\n            name=\"avatar\"\r\n            listType=\"picture-card\"\r\n            className=\"avatar-uploader\"\r\n            showUploadList={false}\r\n            action={hadleUpload}\r\n            beforeUpload={beforeUpload}\r\n            style={{\r\n              border: \"dotted 4px green\",\r\n            }}\r\n            customRequest={() => {}}\r\n          >\r\n            {loading ? (\r\n              <LoadingOutlined />\r\n            ) : (\r\n              <div>\r\n                <PlusOutlined />\r\n                <div style={{ marginTop: 8 }}>Tải lên</div>\r\n              </div>\r\n            )}\r\n          </Upload>\r\n        )}\r\n      </div>\r\n      <div className=\"image\">\r\n        {fileUrl && (\r\n          <img\r\n            alt=\"image-profile\"\r\n            style={{ width: \"100%\" }}\r\n            src={UrlServer() + prefix + \"/files/\" + fileUrl}\r\n          />\r\n        )}\r\n      </div>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nexport default UploadImage;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), _react.default.createElement(\"g\", null, _react.default.createElement(\"path\", {\n  d: \"M14.12 10.47L12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z\"\n}))), 'DeleteForeverOutlined');\n\nexports.default = _default;","import { Layout, Modal as MD } from \"antd\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Screen = styled.div``;\r\n\r\nexport const Content = styled(Layout.Content)`\r\n  padding: 20px 0px;\r\n  margin-top: 50px;\r\n  .body {\r\n    padding: 10px 10px 20px 10px;\r\n    margin: 10px;\r\n    background-color: white;\r\n    .header-title {\r\n      font-weight: bold;\r\n      font-size: 18px;\r\n      margin-bottom: 20px;\r\n    }\r\n    .header-content {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .group-search {\r\n        display: flex;\r\n        padding-bottom: 15px;\r\n        width: 80%;\r\n        .search-box {\r\n          border-radius: 0;\r\n        }\r\n      }\r\n      .btn-create {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        width: 20%;\r\n      }\r\n    }\r\n    /* .header-content {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 10px 5px;\r\n    } */\r\n\r\n    .div-search {\r\n      display: flex;\r\n      padding-bottom: 15px;\r\n      .search-box {\r\n        border-radius: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Modal = styled(MD)`\r\n  .head {\r\n    border-bottom: 1px solid #ddd;\r\n    padding-bottom: 10px;\r\n  }\r\n  .footer {\r\n    padding: 10px;\r\n    background-color: white;\r\n  }\r\n`;\r\n","import resManagerProvider from \"@data-access/food-provider\";\r\nimport Button from \"@src/components/Button\";\r\nimport UploadImage from \"@src/components/UploadImage\";\r\nimport { Col, Form, Input, message, Row, Select, Upload } from \"antd\";\r\nimport React, {\r\n  forwardRef,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal } from \"./styled\";\r\n\r\nconst nameModal = \"Món ăn\";\r\n\r\nconst PlaceForm = ({ reload = () => {}, auth, ...props }, ref) => {\r\n  const [form] = Form.useForm();\r\n  const [state, setState] = useState({});\r\n\r\n  const max = useRef();\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    show: (data = {}, isDetail) => {\r\n      debugger;\r\n      setState({ ...state, isDetail, data, visible: true });\r\n      form.setFieldsValue({ ...data, password2: data.password });\r\n    },\r\n  }));\r\n\r\n  const onFinish = (values) => {\r\n    if (values.password !== values.password2) {\r\n      message.error(\"Mật khẩu không đúng\");\r\n      return;\r\n    }\r\n    const body = {\r\n      id: state.data?.id,\r\n      active: state.data?.active,\r\n      ...values,\r\n      idRes: auth?.userId,\r\n    };\r\n    if (!!state.data?.id) {\r\n      resManagerProvider._put(body, state.data?.id).then((json) => {\r\n        if (json && json.code === 0 && json.data) {\r\n          reload();\r\n          setState({ ...state, visible: false });\r\n          form.resetFields();\r\n          message.success(\"Cập nhật thành công\");\r\n        } else if (json && json.code === 401) {\r\n          window.location.href = \"/login\";\r\n        } else {\r\n          setState({ ...state, loading: false });\r\n          message.error(json.message);\r\n        }\r\n      });\r\n    } else {\r\n      resManagerProvider._post(body).then((json) => {\r\n        if (json && json.code === 0 && json.data) {\r\n          setState({ ...state, visible: false });\r\n          form.resetFields();\r\n          reload();\r\n          message.success(\"Tạo mới thành công\");\r\n        } else if (json && json.code === 401) {\r\n          window.location.href = \"/login\";\r\n        } else {\r\n          setState({ ...state, loading: false });\r\n          message.error(json.message);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const onClose = () => {\r\n    form.resetFields();\r\n    setState({ ...state, visible: false });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"modal-lg\"\r\n      size=\"sm\"\r\n      width={400}\r\n      onCancel={onClose}\r\n      visible={state.visible}\r\n      title={\r\n        <div style={{ width: \"100%\", textAlign: \"center\", fontWeight: 600 }}>\r\n          {state.isDetail\r\n            ? \"Chi tiết \" + nameModal\r\n            : state.data?.id\r\n            ? \"Chỉnh sửa \" + nameModal\r\n            : \"Thêm mới \" + nameModal}\r\n        </div>\r\n      }\r\n      footer={\r\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n          <Button\r\n            onClick={onClose}\r\n            className=\"btn-white\"\r\n            content=\"Trở lại\"\r\n            icon={\"fa fa-times\"}\r\n          />\r\n          {!state.isDetail && (\r\n            <Button\r\n              onClick={() => form.submit()}\r\n              content={state.data?.id ? \"Chỉnh sửa\" : \"Tạo mới\"}\r\n              icon={\"fa fa-check\"}\r\n            />\r\n          )}\r\n        </div>\r\n      }\r\n    >\r\n      <Form layout=\"vertical\" form={form} onFinish={onFinish}>\r\n        <Row>\r\n          <Col span=\"24\">\r\n            <Form.Item label=\"Ảnh\" name=\"avatar\" valuePropName=\"fileUrl\">\r\n              <UploadImage\r\n                className=\"avatar-uploader\"\r\n                onChange={(avatar) => {\r\n                  form.setFieldsValue({ avatar });\r\n                }}\r\n              ></UploadImage>\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span=\"24\">\r\n            <Form.Item\r\n              label=\"Tên món ăn\"\r\n              name=\"name\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng nhập tên\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                placeholder=\"Nhập tên\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                disabled={state.isDetail}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span=\"24\">\r\n            <Form.Item\r\n              label=\"Giá\"\r\n              name=\"price\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng nhập thông tin\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                placeholder=\"Nhập giá\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                disabled={state.isDetail}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\nexport default connect(\r\n  ({ auth: { auth } }) => ({ auth }),\r\n  ({}) => ({}),\r\n  null,\r\n  { forwardRef: true }\r\n)(forwardRef(PlaceForm));\r\n","import { ReactComponent as AddIcon } from \"@assets/svg/add.svg\";\r\nimport \"@assets/css/font-awesome.css\";\r\nimport InputSearch from \"@src/components/InputSearch\";\r\nimport Table from \"@src/components/Table\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Content } from \"./styled\";\r\nimport Button from \"@components/Button\";\r\nimport RestaurantForm from \"./Form\";\r\nimport { getImg } from \"@src/utils\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport { message, Tooltip } from \"antd\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport foodProvider from \"@src/data-access/food-provider\";\r\n\r\nconst Food = ({ auth, getUser, getList, listData, updateData }) => {\r\n  const refModal = useRef();\r\n  const [state, _setState] = useState({\r\n    showModalPost: false,\r\n    params: {},\r\n  });\r\n  const setState = (data) => {\r\n    _setState((pre) => ({ ...pre, ...data }));\r\n  };\r\n  const { params } = state;\r\n  const setParams = (params) => {\r\n    getList({ ...params, idRes: auth?.userId });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList({ size: 20, idRes: auth?.userId });\r\n    // getUser();\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"STT\",\r\n      width: 80,\r\n      render: (_, __, index) => index + 1,\r\n    },\r\n    {\r\n      title: \"Ảnh\",\r\n      dataIndex: \"avatar\",\r\n      width: 150,\r\n      render: (item) => (\r\n        <img src={getImg(item)} style={{ width: 100, height: 100 }} />\r\n      ),\r\n    },\r\n    {\r\n      title: \"Tên món ăn\",\r\n      dataIndex: \"name\",\r\n    },\r\n    {\r\n      title: \"Giá\",\r\n      dataIndex: \"price\",\r\n    },\r\n    {\r\n      title: \"Cửa hàng\",\r\n      dataIndex: \"nameStore\",\r\n    },\r\n    {\r\n      title: \"Tiện ích\",\r\n      width: 150,\r\n      render: (_, item) => (\r\n        <div>\r\n          <Tooltip title=\"Chỉnh sửa\">\r\n            <EditOutlinedIcon\r\n              onClick={() => refModal.current && refModal.current.show(item)}\r\n              style={{\r\n                fontSize: 28,\r\n                marginRight: 5,\r\n                cursor: \"pointer\",\r\n                color: \"var(--blue)\",\r\n              }}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Xóa\">\r\n            <DeleteForeverOutlinedIcon\r\n              onClick={() => {\r\n                foodProvider._delete(item?.id).then((json) => {\r\n                  if (json && json.code === 0) {\r\n                    message.success(\"Xóa thành công\");\r\n                    getList({ size: 20, idRes: auth.userId });\r\n                  } else if (json && json.code === 401) {\r\n                    window.location.href = \"/login\";\r\n                  } else {\r\n                    message.error(json.message);\r\n                  }\r\n                });\r\n              }}\r\n              style={{\r\n                fontSize: 28,\r\n                marginRight: 5,\r\n                cursor: \"pointer\",\r\n                color: \"var(--red)\",\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"card-content\">\r\n        <Content>\r\n          <div className=\"body\">\r\n            <div className=\"content\">\r\n              <div className=\"header-title\">Quản lý món ăn</div>\r\n              <div className=\"header-content\">\r\n                <div className=\"group-search\">\r\n                  <InputSearch\r\n                    type=\"text\"\r\n                    search={(value) =>\r\n                      setParams({ ...params, page: 0, name: value })\r\n                    }\r\n                    placeholder=\"Tìm tên\"\r\n                    style={{ width: \"50%\" }}\r\n                  />\r\n                </div>\r\n                <div className=\"btn-create\">\r\n                  <Button\r\n                    content=\"Thêm mới\"\r\n                    onClick={() =>\r\n                      refModal.current && refModal.current.show({})\r\n                    }\r\n                    iconSvg={AddIcon}\r\n                  ></Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"table-ds\">\r\n                <Table\r\n                  buttonCreate={{\r\n                    onCreate: () =>\r\n                      refModal.current && refModal.current.show({}),\r\n                  }}\r\n                  dataSource={listData}\r\n                  scroll={{ x: 830, y: \"auto\" }}\r\n                  rowKey={(record) => record.id}\r\n                  columns={columns}\r\n                  footer={null}\r\n                ></Table>\r\n              </div>\r\n              {/* <Pagination\r\n              page={params.page + 1}\r\n              size={params.size}\r\n              totalElements={state.totalElements}\r\n              onChangePage={(page) => setParams({ ...params, page })}\r\n              onChangeSize={(size) => setParams({ ...params, page: 0, size })}\r\n            ></Pagination> */}\r\n\r\n              <RestaurantForm\r\n                ref={refModal}\r\n                reload={() =>\r\n                  getList({\r\n                    ...params,\r\n                    idRes: auth?.userId,\r\n                    reload: params.reload,\r\n                  })\r\n                }\r\n              ></RestaurantForm>\r\n            </div>\r\n          </div>\r\n        </Content>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default connect(\r\n  ({ auth: { auth }, food: { _listData: listData } }) => ({\r\n    auth,\r\n    listData,\r\n  }),\r\n  ({ food: { _getList: getList, updateData }, account: { getUser } }) => ({\r\n    getList,\r\n    updateData,\r\n    getUser,\r\n  })\r\n)(Food);\r\n"],"sourceRoot":""}