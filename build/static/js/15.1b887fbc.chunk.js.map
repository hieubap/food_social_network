{"version":3,"sources":["components/UploadImage/styled.js","components/UploadImage/index.js","pages/resManager/promotion/styled.js","pages/resManager/promotion/Form.js","pages/resManager/promotion/index.js"],"names":["StyledWrapper","styled","div","beforeUpload","file","isJpgOrPng","type","message","error","isLt2M","size","UploadImage","onChange","disabled","viewMode","fileUrl","useState","loading","setLoading","className","name","listType","showUploadList","action","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","imageUrl","fileProvider","upload","then","json","code","data","filePath","finally","style","border","customRequest","LoadingOutlined","PlusOutlined","marginTop","alt","width","src","UrlServer","prefix","Content","Layout","Modal","MD","PlaceForm","ref","reload","auth","Form","useForm","form","state","setState","useRef","useEffect","useImperativeHandle","show","isDetail","visible","setFieldsValue","password2","password","onClose","resetFields","onCancel","title","textAlign","fontWeight","id","footer","display","justifyContent","Button","onClick","content","icon","submit","layout","onFinish","values","body","active","idRes","userId","resManagerProvider","_put","success","window","location","href","_post","span","Item","label","valuePropName","avatar","rules","required","placeholder","autoComplete","TextArea","connect","forwardRef","listData","promotion","_listData","getList","_getList","updateData","getUser","account","refModal","showModalPost","params","columns","render","_","__","index","dataIndex","item","getImg","height","current","fontSize","marginRight","cursor","color","InputSearch","search","value","setParams","page","iconSvg","AddIcon","Table","buttonCreate","onCreate","dataSource","scroll","x","y","rowKey","record"],"mappings":"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","file":"static/js/15.1b887fbc.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const StyledWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  height: auto;\r\n  .ant-upload {\r\n    .ant-upload-select-picture-card {\r\n      border: 3px dashed green;\r\n      width: 70px;\r\n      height: 70px;\r\n      span {\r\n        color: green;\r\n      }\r\n    }\r\n  }\r\n  .image {\r\n    width: 150px;\r\n    height: 150px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    display: flex;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Upload, message } from \"antd\";\r\nimport { PlusOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport { prefix } from \"@utils/client-utils\";\r\nimport { UrlServer } from \"@utils/client-utils\";\r\nimport fileProvider from \"@src/data-access/file-provider\";\r\nimport { StyledWrapper } from \"./styled\";\r\n\r\nconst getBase64 = (img, callback) => {\r\n  const reader = new FileReader();\r\n  reader.addEventListener(\"load\", () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n};\r\n\r\nconst beforeUpload = (file) => {\r\n  const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  if (!isJpgOrPng) {\r\n    message.error(\"You can only upload JPG/PNG file!\");\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 12;\r\n  if (!isLt2M) {\r\n    message.error(\"Image must smaller than 12MB!\");\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n};\r\n\r\nconst UploadImage = ({\r\n  onChange = () => {},\r\n  disabled,\r\n  viewMode = false,\r\n  fileUrl,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const hadleUpload = (file) => {\r\n    setLoading(true);\r\n    getBase64(file, (imageUrl) => {\r\n      fileProvider\r\n        .upload(file)\r\n        .then((json) => {\r\n          if (json && json.code === 0) {\r\n            onChange(json.data?.filePath);\r\n          } else {\r\n            onChange(imageUrl);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <div className=\"upload-wrapper\">\r\n        {!viewMode && (\r\n          <Upload\r\n            disabled={disabled}\r\n            name=\"avatar\"\r\n            listType=\"picture-card\"\r\n            className=\"avatar-uploader\"\r\n            showUploadList={false}\r\n            action={hadleUpload}\r\n            beforeUpload={beforeUpload}\r\n            style={{\r\n              border: \"dotted 4px green\",\r\n            }}\r\n            customRequest={() => {}}\r\n          >\r\n            {loading ? (\r\n              <LoadingOutlined />\r\n            ) : (\r\n              <div>\r\n                <PlusOutlined />\r\n                <div style={{ marginTop: 8 }}>Tải lên</div>\r\n              </div>\r\n            )}\r\n          </Upload>\r\n        )}\r\n      </div>\r\n      <div className=\"image\">\r\n        {fileUrl && (\r\n          <img\r\n            alt=\"image-profile\"\r\n            style={{ width: \"100%\" }}\r\n            src={UrlServer() + prefix + \"/files/\" + fileUrl}\r\n          />\r\n        )}\r\n      </div>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nexport default UploadImage;\r\n","import { Layout, Modal as MD } from \"antd\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Screen = styled.div``;\r\n\r\nexport const Content = styled(Layout.Content)`\r\n  padding: 20px 0px;\r\n  margin-top: 50px;\r\n  .body {\r\n    padding: 10px 10px 20px 10px;\r\n    margin: 10px;\r\n    background-color: white;\r\n    .header-title {\r\n      font-weight: bold;\r\n      font-size: 18px;\r\n      margin-bottom: 20px;\r\n    }\r\n    .header-content {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .group-search {\r\n        display: flex;\r\n        padding-bottom: 15px;\r\n        width: 80%;\r\n        .search-box {\r\n          border-radius: 0;\r\n        }\r\n      }\r\n      .btn-create {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        width: 20%;\r\n      }\r\n    }\r\n    /* .header-content {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 10px 5px;\r\n    } */\r\n\r\n    .div-search {\r\n      display: flex;\r\n      padding-bottom: 15px;\r\n      .search-box {\r\n        border-radius: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Modal = styled(MD)`\r\n  .head {\r\n    border-bottom: 1px solid #ddd;\r\n    padding-bottom: 10px;\r\n  }\r\n  .footer {\r\n    padding: 10px;\r\n    background-color: white;\r\n  }\r\n`;\r\n","import resManagerProvider from \"@data-access/promotion-provider\";\r\nimport Button from \"@src/components/Button\";\r\nimport UploadImage from \"@src/components/UploadImage\";\r\nimport { Col, Form, Input, message, Row, Select, Upload } from \"antd\";\r\nimport React, {\r\n  forwardRef,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal } from \"./styled\";\r\n\r\nconst nameModal = \"Khuyến mãi\";\r\n\r\nconst PlaceForm = ({ reload = () => {}, auth, ...props }, ref) => {\r\n  const [form] = Form.useForm();\r\n  const [state, setState] = useState({});\r\n\r\n  const max = useRef();\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    show: (data = {}, isDetail) => {\r\n      setState({ ...state, isDetail, data, visible: true });\r\n      form.setFieldsValue({ ...data, password2: data.password });\r\n    },\r\n  }));\r\n\r\n  const onFinish = (values) => {\r\n    if (values.password !== values.password2) {\r\n      message.error(\"Mật khẩu không đúng\");\r\n      return;\r\n    }\r\n    const body = {\r\n      id: state.data?.id,\r\n      active: state.data?.active,\r\n      ...values,\r\n      idRes: auth?.userId,\r\n    };\r\n    if (!!state.data?.id) {\r\n      resManagerProvider._put(body, state.data?.id).then((json) => {\r\n        if (json && json.code === 0 && json.data) {\r\n          reload();\r\n          setState({ ...state, visible: false });\r\n          form.resetFields();\r\n          message.success(\"Cập nhật thành công\");\r\n        } else if (json && json.code === 401) {\r\n          window.location.href = \"/login\";\r\n        } else {\r\n          setState({ ...state, loading: false });\r\n          message.error(json.message);\r\n        }\r\n      });\r\n    } else {\r\n      resManagerProvider._post(body).then((json) => {\r\n        if (json && json.code === 0 && json.data) {\r\n          setState({ ...state, visible: false });\r\n          form.resetFields();\r\n          reload();\r\n          message.success(\"Tạo mới thành công\");\r\n        } else if (json && json.code === 401) {\r\n          window.location.href = \"/login\";\r\n        } else {\r\n          setState({ ...state, loading: false });\r\n          message.error(json.message);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const onClose = () => {\r\n    form.resetFields();\r\n    setState({ ...state, visible: false });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"modal-lg\"\r\n      size=\"sm\"\r\n      width={400}\r\n      onCancel={onClose}\r\n      visible={state.visible}\r\n      title={\r\n        <div style={{ width: \"100%\", textAlign: \"center\", fontWeight: 600 }}>\r\n          {state.isDetail\r\n            ? \"Chi tiết \" + nameModal\r\n            : state.data?.id\r\n            ? \"Chỉnh sửa \" + nameModal\r\n            : \"Thêm mới \" + nameModal}\r\n        </div>\r\n      }\r\n      footer={\r\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n          <Button\r\n            onClick={onClose}\r\n            className=\"btn-white\"\r\n            content=\"Trở lại\"\r\n            icon={\"fa fa-times\"}\r\n          />\r\n          {!state.isDetail && (\r\n            <Button\r\n              onClick={() => form.submit()}\r\n              content={state.data?.id ? \"Chỉnh sửa\" : \"Tạo mới\"}\r\n              icon={\"fa fa-check\"}\r\n            />\r\n          )}\r\n        </div>\r\n      }\r\n    >\r\n      <Form layout=\"vertical\" form={form} onFinish={onFinish}>\r\n        <Row>\r\n          <Col span=\"24\">\r\n            <Form.Item label=\"Ảnh\" name=\"avatar\" valuePropName=\"fileUrl\">\r\n              <UploadImage\r\n                className=\"avatar-uploader\"\r\n                onChange={(avatar) => {\r\n                  form.setFieldsValue({ avatar });\r\n                }}\r\n              ></UploadImage>\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span=\"24\">\r\n            <Form.Item\r\n              label=\"Tên\"\r\n              name=\"name\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng nhập tên\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                placeholder=\"Nhập tên\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                disabled={state.isDetail}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col span=\"24\">\r\n            <Form.Item\r\n              label=\"Nội dung\"\r\n              name=\"content\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng nhập thông tin\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input.TextArea\r\n                placeholder=\"Nhập giá\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                disabled={state.isDetail}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\nexport default connect(\r\n  ({ auth: { auth } }) => ({ auth }),\r\n  ({}) => ({}),\r\n  null,\r\n  { forwardRef: true }\r\n)(forwardRef(PlaceForm));\r\n","import { ReactComponent as AddIcon } from \"@assets/svg/add.svg\";\r\nimport \"@assets/css/font-awesome.css\";\r\nimport InputSearch from \"@src/components/InputSearch\";\r\nimport Table from \"@src/components/Table\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Content } from \"./styled\";\r\nimport Button from \"@components/Button\";\r\nimport RestaurantForm from \"./Form\";\r\nimport { getImg } from \"@src/utils\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport { Tooltip } from \"antd\";\r\n\r\nconst Food = ({ auth, getUser, getList, listData, updateData }) => {\r\n  const refModal = useRef();\r\n  const [state, _setState] = useState({\r\n    showModalPost: false,\r\n    params: {},\r\n  });\r\n  const setState = (data) => {\r\n    _setState((pre) => ({ ...pre, ...data }));\r\n  };\r\n  const { params } = state;\r\n  const setParams = (params) => {\r\n    getList({ ...params, idRes: auth?.userId });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList({ size: 20, idRes: auth?.userId });\r\n    // getUser();\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"STT\",\r\n      width: 80,\r\n      render: (_, __, index) => index + 1,\r\n    },\r\n    {\r\n      title: \"Ảnh\",\r\n      dataIndex: \"avatar\",\r\n      width: 150,\r\n      render: (item) => (\r\n        <img src={getImg(item)} style={{ width: 100, height: 100 }} />\r\n      ),\r\n    },\r\n    {\r\n      title: \"Tên\",\r\n      dataIndex: \"name\",\r\n      width: 200,\r\n    },\r\n    {\r\n      title: \"Nội dung\",\r\n      dataIndex: \"content\",\r\n    },\r\n    {\r\n      title: \"Tiện ích\",\r\n      width: 150,\r\n      render: (_, item) => (\r\n        <div>\r\n          <Tooltip title=\"Chỉnh sửa\">\r\n            <EditOutlinedIcon\r\n              onClick={() => refModal.current && refModal.current.show(item)}\r\n              style={{\r\n                fontSize: 28,\r\n                marginRight: 5,\r\n                cursor: \"pointer\",\r\n                color: \"var(--blue)\",\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"card-content\">\r\n        <Content>\r\n          <div className=\"body\">\r\n            <div className=\"content\">\r\n              <div className=\"header-title\">Quản lý khuyến mãi</div>\r\n              <div className=\"header-content\">\r\n                <div className=\"group-search\">\r\n                  <InputSearch\r\n                    type=\"text\"\r\n                    search={(value) =>\r\n                      setParams({ ...params, page: 0, name: value })\r\n                    }\r\n                    placeholder=\"Tìm tên\"\r\n                    style={{ width: \"50%\" }}\r\n                  />\r\n                </div>\r\n                <div className=\"btn-create\">\r\n                  <Button\r\n                    content=\"Thêm mới\"\r\n                    onClick={() =>\r\n                      refModal.current && refModal.current.show({})\r\n                    }\r\n                    iconSvg={AddIcon}\r\n                  ></Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"table-ds\">\r\n                <Table\r\n                  buttonCreate={{\r\n                    onCreate: () =>\r\n                      refModal.current && refModal.current.show({}),\r\n                  }}\r\n                  dataSource={listData}\r\n                  scroll={{ x: 830, y: \"auto\" }}\r\n                  rowKey={(record) => record.id}\r\n                  columns={columns}\r\n                  footer={null}\r\n                ></Table>\r\n              </div>\r\n              {/* <Pagination\r\n              page={params.page + 1}\r\n              size={params.size}\r\n              totalElements={state.totalElements}\r\n              onChangePage={(page) => setParams({ ...params, page })}\r\n              onChangeSize={(size) => setParams({ ...params, page: 0, size })}\r\n            ></Pagination> */}\r\n\r\n              <RestaurantForm\r\n                ref={refModal}\r\n                reload={() =>\r\n                  getList({\r\n                    ...params,\r\n                    idRes: auth?.userId,\r\n                    reload: params.reload,\r\n                  })\r\n                }\r\n              ></RestaurantForm>\r\n            </div>\r\n          </div>\r\n        </Content>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default connect(\r\n  ({ auth: { auth }, promotion: { _listData: listData } }) => ({\r\n    auth,\r\n    listData,\r\n  }),\r\n  ({ promotion: { _getList: getList, updateData }, account: { getUser } }) => ({\r\n    getList,\r\n    updateData,\r\n    getUser,\r\n  })\r\n)(Food);\r\n"],"sourceRoot":""}